<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>For Rani ‚ù§Ô∏è</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        font-family: "Segoe UI", "Comic Sans MS", sans-serif;
        background: linear-gradient(
          135deg,
          #8e2de2 0%,
          #4a00e0 50%,
          #8e2de2 100%
        );
        overflow: hidden;
        position: relative;
        transition: background 1s ease;
      }

      body.unlocked {
        background: linear-gradient(
          135deg,
          #c9184a 0%,
          #ff006e 25%,
          #8338ec 50%,
          #3a0ca3 75%,
          #4361ee 100%
        );
      }

      /* FLOATING HEARTS */
      .particle {
        position: absolute;
        font-size: 25px;
        animation: float 15s infinite;
        pointer-events: none;
        opacity: 0.7;
      }

      @keyframes float {
        0% {
          transform: translateY(100vh) rotate(0deg);
          opacity: 0;
        }
        50% {
          opacity: 0.8;
        }
        100% {
          transform: translateY(-100vh) rotate(360deg);
          opacity: 0;
        }
      }

      /* CARD */
      .card {
        background: rgba(255, 255, 255, 0.98);
        padding: 50px;
        border-radius: 30px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
        text-align: center;
        max-width: 90%;
        width: 450px;
        animation: slideIn 0.6s ease;
        position: relative;
        z-index: 10;
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateY(50px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      img {
        width: 100%;
        border-radius: 20px;
        margin-bottom: 25px;
        max-height: 300px;
        object-fit: cover;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
      }

      h1 {
        color: #ff69b4;
        font-size: 32px;
        margin-bottom: 15px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
      }

      p {
        color: #8b0046;
        font-size: 18px;
        line-height: 1.6;
        margin-bottom: 20px;
      }

      .btn {
        background: linear-gradient(135deg, #ff69b4, #ff1493);
        color: white;
        border: none;
        padding: 15px 40px;
        border-radius: 50px;
        font-size: 20px;
        font-weight: bold;
        cursor: pointer;
        margin: 10px;
        transition: all 0.3s ease;
        box-shadow: 0 5px 20px rgba(255, 105, 180, 0.4);
      }

      .btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 30px rgba(255, 105, 180, 0.6);
      }

      .btn.no-btn {
        background: linear-gradient(135deg, #888, #555);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        position: absolute;
        animation: float-button 3s ease-in-out infinite;
      }

      @keyframes float-button {
        0%,
        100% {
          transform: translate(0, 0);
        }
        25% {
          transform: translate(30px, -20px);
        }
        50% {
          transform: translate(-20px, 15px);
        }
        75% {
          transform: translate(25px, 10px);
        }
      }

      /* VAULT SCREEN */
      #vault-screen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          135deg,
          #3d0814 0%,
          #6b0f1a 25%,
          #540b13 50%,
          #2d0a0e 75%,
          #1a0506 100%
        );
        color: white;
        z-index: 999;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }

      .vault-title {
        font-size: 36px;
        margin-bottom: 10px;
        text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.3);
      }

      .vault-subtitle {
        font-size: 18px;
        opacity: 0.9;
        margin-bottom: 40px;
      }

      .display {
        font-size: 45px;
        letter-spacing: 20px;
        margin-bottom: 30px;
        border-bottom: 3px solid #ff69b4;
        padding: 20px 40px;
        background: rgba(255, 105, 180, 0.1);
        border-radius: 15px;
      }

      .keypad {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 20px;
        margin-top: 20px;
      }

      .key {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        border: 3px solid #ff69b4;
        background: rgba(255, 105, 180, 0.1);
        color: white;
        font-size: 26px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .key:hover {
        background: rgba(255, 105, 180, 0.3);
        transform: scale(1.1);
      }

      .error-msg {
        color: #ff4757;
        font-size: 18px;
        margin-top: 20px;
        animation: shake 0.5s;
      }

      @keyframes shake {
        0%,
        100% {
          transform: translateX(0);
        }
        25% {
          transform: translateX(-10px);
        }
        75% {
          transform: translateX(10px);
        }
      }

      /* MUSIC CONTROL */
      .music-control {
        position: fixed;
        bottom: 30px;
        right: 30px;
        background: rgba(255, 105, 180, 0.9);
        color: white;
        border: none;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        font-size: 26px;
        cursor: pointer;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
        transition: all 0.3s ease;
        z-index: 100;
      }

      .music-control:hover {
        transform: scale(1.1);
      }

      /* LETTERS GRID */
      .grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin-top: 30px;
      }

      .envelope {
        background: linear-gradient(135deg, #d32f2f, #c62828);
        color: white;
        padding: 40px 20px;
        border-radius: 15px;
        cursor: pointer;
        position: relative;
        transition: all 0.3s ease;
        box-shadow: 0 5px 15px rgba(211, 47, 47, 0.4);
        min-height: 120px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }

      .envelope:hover {
        transform: translateY(-5px) rotate(2deg);
        box-shadow: 0 10px 30px rgba(211, 47, 47, 0.6);
      }

      .envelope.opened {
        background: linear-gradient(135deg, #4caf50, #388e3c);
      }

      .envelope::before {
        content: "üíå";
        font-size: 40px;
        display: block;
        margin-bottom: 10px;
      }

      .envelope.opened::before {
        content: "‚úì";
      }

      /* MODAL */
      .modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.85);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        animation: fadeIn 0.3s ease;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      .modal-content {
        background: white;
        padding: 50px;
        border-radius: 25px;
        max-width: 600px;
        width: 90%;
        text-align: center;
        position: relative;
        animation: slideIn 0.3s ease;
      }

      .close-modal {
        position: absolute;
        top: 20px;
        right: 25px;
        font-size: 35px;
        cursor: pointer;
        color: #888;
        transition: color 0.3s;
      }

      .close-modal:hover {
        color: #ff69b4;
      }

      .hidden {
        display: none !important;
      }

      /* CONFETTI */
      .confetti {
        position: fixed;
        width: 10px;
        height: 10px;
        background: #ff69b4;
        animation: confetti-fall 3s linear forwards;
      }

      @keyframes confetti-fall {
        to {
          transform: translateY(100vh) rotate(360deg);
          opacity: 0;
        }
      }

      @media (max-width: 768px) {
        .card {
          padding: 30px 20px;
          width: 95%;
        }
        h1 {
          font-size: 26px;
        }
        .btn {
          font-size: 18px;
          padding: 12px 30px;
        }
        .key {
          width: 60px;
          height: 60px;
          font-size: 22px;
        }
      }
    </style>
  </head>
  <body>
    <!-- AUDIO -->
    <audio id="bg-music" loop>
      <source
        src="https://res.cloudinary.com/dncywqfpb/video/upload/v1738399057/music_qrhjvy.mp3"
        type="audio/mpeg"
      />
    </audio>

    <!-- MUSIC CONTROL -->
    <button
      class="music-control hidden"
      id="music-toggle"
      onclick="toggleMusic()"
    >
      üéµ
    </button>

    <!-- PARTICLES -->
    <div id="particles"></div>

    <!-- VAULT SCREEN -->
    <div id="vault-screen">
      <h2 class="vault-title">üîê Enter Our Special Date</h2>
      <p class="vault-subtitle">Hint: The day we became us (DDMM)</p>
      <div class="display" id="display">_ _ _ _</div>
      <div class="keypad">
        <button class="key" onclick="press(1)">1</button>
        <button class="key" onclick="press(2)">2</button>
        <button class="key" onclick="press(3)">3</button>
        <button class="key" onclick="press(4)">4</button>
        <button class="key" onclick="press(5)">5</button>
        <button class="key" onclick="press(6)">6</button>
        <button class="key" onclick="press(7)">7</button>
        <button class="key" onclick="press(8)">8</button>
        <button class="key" onclick="press(9)">9</button>
        <button class="key" onclick="clearInput()">C</button>
        <button class="key" onclick="press(0)">0</button>
        <button class="key" onclick="checkCode()">‚ûú</button>
      </div>
      <p class="error-msg hidden" id="error-msg">Wrong Date! Try Again üíî</p>
    </div>

    <!-- MAIN CARD -->
    <div id="main-card" class="card hidden"></div>

    <script>
      // ============================================
      // üíù CUSTOMIZE YOUR SETTINGS HERE üíù
      // ============================================

      const CONFIG = {
        PASSCODE: "1402", // Change to your date (DDMM)
        VALENTINE_NAME: "Rani",

        // Question Page
        questionPage: {
          img: "https://media.giphy.com/media/3o7TKoWXm3okO1kgHC/giphy.gif",
          title: "üíñ Will you be my Valentine, Rani? üåπ",
          text: "I've been waiting to ask you this...",
          yesBtn: "YES! üòç",
          noBtn: "No üò¢",
        },

        // Meme after 3 No clicks
        trapMeme: {
          img: "https://media.giphy.com/media/l4FGGafcOHmrlQxG0/giphy.gif",
          title: "üò± HOW DARE YOU!",
          text: "You really thought you could say no? Think again! üò§",
          btnText: "Okay, I'll Say Yes! üòÖ",
        },

        // Love Letters - CUSTOMIZE THESE!
        letters: [
          {
            title: "Letter 1",
            subtitle: "Why I Love You üíñ",
            content:
              "Every moment with you feels like magic. Your smile lights up my darkest days, and your laughter is my favorite song. You make everything better just by being you. ‚ù§Ô∏è",
            btnText: "Accept This Love üíù",
          },
          {
            title: "Letter 2",
            subtitle: "Our Memories üåü",
            content:
              "From our first conversation to this moment, every memory with you is precious. You've turned ordinary days into extraordinary adventures. üåü",
            btnText: "Cherish Forever üíï",
          },
          {
            title: "Letter 3",
            subtitle: "My Promise üíç",
            content:
              "I promise to always be there for you, to support your dreams, to make you laugh, and to love you more with each passing day. üíù",
            btnText: "I Promise Too ü§ù",
          },
          {
            title: "Letter 4",
            subtitle: "Forever & Always üí´",
            content:
              "You're not just my Valentine, you're my best friend, my partner, and my everything. Here's to many more beautiful moments together. üíï",
            btnText: "Forever Yours üíñ",
          },
        ],

        celebrationText: {
          title: "üéâ Yay! You're Mine! üíñ",
          subtitle:
            "I'm the happiest person alive! Now, read your love letters below:",
          emoji: "üíùüíñüíï‚ù§Ô∏è‚ú®üéâ",
        },
      };

      // ============================================
      // SYSTEM CODE
      // ============================================

      let input = "";
      let noClickCount = 0;
      let musicPlaying = false;
      let acceptedLetters = [];

      // Particles
      function createParticles() {
        const container = document.getElementById("particles");
        const emojis = ["‚ù§Ô∏è", "üíñ", "üíù", "üíï", "üåπ"];

        for (let i = 0; i < 15; i++) {
          const particle = document.createElement("div");
          particle.className = "particle";
          particle.innerText =
            emojis[Math.floor(Math.random() * emojis.length)];
          particle.style.left = Math.random() * 100 + "%";
          particle.style.animationDelay = Math.random() * 15 + "s";
          particle.style.animationDuration = Math.random() * 10 + 10 + "s";
          container.appendChild(particle);
        }
      }

      // Vault
      function press(num) {
        if (input.length < 4) {
          input += num;
          updateDisplay();
        }
      }

      function updateDisplay() {
        const display = document.getElementById("display");
        let displayText = "";
        for (let i = 0; i < 4; i++) {
          displayText += i < input.length ? input[i] : "_";
          if (i < 3) displayText += " ";
        }
        display.innerText = displayText;
      }

      function clearInput() {
        input = "";
        updateDisplay();
      }

      function checkCode() {
        if (input === CONFIG.PASSCODE) {
          document.getElementById("vault-screen").style.display = "none";
          document.getElementById("main-card").classList.remove("hidden");
          document.getElementById("music-toggle").classList.remove("hidden");
          document.body.classList.add("unlocked");

          // Start music
          const music = document.getElementById("bg-music");
          music
            .play()
            .then(() => {
              musicPlaying = true;
            })
            .catch(() => {
              console.log("Auto-play blocked");
            });

          showQuestionPage();
          createParticles();
        } else {
          const errorMsg = document.getElementById("error-msg");
          errorMsg.classList.remove("hidden");
          setTimeout(() => errorMsg.classList.add("hidden"), 2000);
          clearInput();
        }
      }

      // Music control
      function toggleMusic() {
        const music = document.getElementById("bg-music");
        const btn = document.getElementById("music-toggle");

        if (musicPlaying) {
          music.pause();
          btn.innerText = "üîá";
          musicPlaying = false;
        } else {
          music.play();
          btn.innerText = "üéµ";
          musicPlaying = true;
        }
      }

      // Question Page
      function showQuestionPage() {
        const data = CONFIG.questionPage;
        const card = document.getElementById("main-card");

        card.innerHTML = `
                <img src="${data.img}">
                <h1>${data.title}</h1>
                <p>${data.text}</p>
                <div style="display:flex; justify-content:center; gap:15px; flex-wrap: wrap; margin-top: 25px; position: relative; min-height: 80px;">
                    <button class="btn" onclick="onYesClick()">${data.yesBtn}</button>
                    <button class="btn no-btn" id="no-btn-main" onclick="onNoClick()">${data.noBtn}</button>
                </div>
            `;
      }

      // No Button Function - Only triggers on click
      function onNoClick() {
        noClickCount++;

        if (noClickCount >= 3) {
          // Stop music and show meme after 3 clicks
          const music = document.getElementById("bg-music");
          music.pause();
          musicPlaying = false;
          document.getElementById("music-toggle").innerText = "üîá";

          showMemeTrap();
        } else {
          // Show click count feedback
          const btn = document.getElementById("no-btn-main");
          btn.innerText = `No (${noClickCount}/3)`;
          setTimeout(() => {
            btn.innerText = CONFIG.questionPage.noBtn;
          }, 1000);
        }
      }

      function showMemeTrap() {
        const card = document.getElementById("main-card");
        const trap = CONFIG.trapMeme;

        card.innerHTML = `
                <img src="${trap.img}" style="border: 5px solid red;">
                <h1 style="color: red;">${trap.title}</h1>
                <p>${trap.text}</p>
                <button class="btn" onclick="onYesClick()" style="margin-top: 20px;">${trap.btnText}</button>
            `;
      }

      function onYesClick() {
        // Restart music
        const music = document.getElementById("bg-music");
        music.play();
        musicPlaying = true;
        document.getElementById("music-toggle").innerText = "üéµ";

        // Show letters
        createConfetti();
        showLettersPage();
      }

      // Letters Page
      function showLettersPage() {
        const card = document.getElementById("main-card");

        let lettersHTML = "";
        CONFIG.letters.forEach((letter, index) => {
          const openedClass = acceptedLetters.includes(index) ? "opened" : "";
          const status = acceptedLetters.includes(index) ? "‚úì Opened" : "";
          lettersHTML += `
                    <div class="envelope ${openedClass}" onclick="openLetter(${index})">
                        <span style="font-size: 16px; font-weight: bold;">${letter.title}</span>
                        <span style="font-size: 13px; display: block; margin-top: 5px;">${status}</span>
                    </div>
                `;
        });

        card.innerHTML = `
                <h1>${CONFIG.celebrationText.title}</h1>
                <p>${CONFIG.celebrationText.subtitle}</p>
                <div style="font-size: 32px; margin: 20px 0;">${CONFIG.celebrationText.emoji}</div>
                <div class="grid">
                    ${lettersHTML}
                </div>
            `;
      }

      // Open Letter
      function openLetter(index) {
        if (acceptedLetters.includes(index)) return;

        const letter = CONFIG.letters[index];
        const modal = document.createElement("div");
        modal.className = "modal";
        modal.id = "letter-modal-" + index;
        modal.innerHTML = `
                <div class="modal-content">
                    <span class="close-modal" onclick="closeLetterModal(${index})">√ó</span>
                    <h1>${letter.subtitle}</h1>
                    <p style="margin-top: 30px; margin-bottom: 35px; font-size: 18px;">${letter.content}</p>
                    <button class="btn" onclick="acceptLetter(${index})">${letter.btnText}</button>
                </div>
            `;
        document.body.appendChild(modal);
      }

      function acceptLetter(index) {
        acceptedLetters.push(index);

        // Beautiful heart animation
        createHeartExplosion();

        closeLetterModal(index);
        setTimeout(() => showLettersPage(), 500);
      }

      function closeLetterModal(index) {
        const modal = document.getElementById("letter-modal-" + index);
        if (modal) modal.remove();
      }

      // Animations
      function createConfetti() {
        const colors = ["#ff69b4", "#ff1493", "#ffc0cb", "#ff6b9d", "#c71585"];
        for (let i = 0; i < 100; i++) {
          setTimeout(() => {
            const confetti = document.createElement("div");
            confetti.className = "confetti";
            confetti.style.left = Math.random() * 100 + "%";
            confetti.style.background =
              colors[Math.floor(Math.random() * colors.length)];
            document.body.appendChild(confetti);

            setTimeout(() => confetti.remove(), 3000);
          }, i * 30);
        }
      }

      function createHeartExplosion() {
        const hearts = ["‚ù§Ô∏è", "üíñ", "üíù", "üíï", "üíó", "üíì"];
        for (let i = 0; i < 40; i++) {
          setTimeout(() => {
            const heart = document.createElement("div");
            heart.style.position = "fixed";
            heart.style.left = "50%";
            heart.style.top = "50%";
            heart.style.fontSize = "35px";
            heart.style.zIndex = "9999";
            heart.innerText = hearts[Math.floor(Math.random() * hearts.length)];
            heart.style.transition = "all 1.5s ease-out";
            document.body.appendChild(heart);

            setTimeout(() => {
              heart.style.transform = `translate(${(Math.random() - 0.5) * 600}px, ${(Math.random() - 0.5) * 600}px) rotate(${Math.random() * 360}deg) scale(2)`;
              heart.style.opacity = "0";
            }, 50);

            setTimeout(() => heart.remove(), 1600);
          }, i * 40);
        }
      }

      // Initialize
      window.onload = function () {
        updateDisplay();
      };

      // Enter key support
      document.addEventListener("keypress", function (e) {
        if (e.key === "Enter") {
          checkCode();
        }
      });
    </script>
  </body>
</html>
